// Prisma schema

 datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
 }

 generator client {
  provider = "prisma-client-js"
 }

 model User {
  id        Int     @id @default(autoincrement())
  email     String  @unique
  password  String
  role      String
  client    Client? @relation(fields: [clientId], references: [id])
  clientId  Int?
 }

 model Client {
  id             Int            @id @default(autoincrement())
  name           String
  users          User[]
  devices        Device[]
  documents      Document[]
  tools          Tool[]
  links          Link[]
  subscriptions  Subscription[]
 }

 model Device {
  id        Int    @id @default(autoincrement())
  name      String
  status    String
  client    Client @relation(fields: [clientId], references: [id])
  clientId  Int
 }

 model Document {
  id        Int    @id @default(autoincrement())
  title     String
  url       String
  client    Client @relation(fields: [clientId], references: [id])
  clientId  Int
 }

 model Tool {
  id        Int    @id @default(autoincrement())
  name      String
  url       String
  client    Client @relation(fields: [clientId], references: [id])
  clientId  Int
 }

 model Link {
  id        Int    @id @default(autoincrement())
  label     String
  url       String
  client    Client @relation(fields: [clientId], references: [id])
  clientId  Int
 }

 model Subscription {
  id          Int    @id @default(autoincrement())
  stripeSubId String
  status      String
  client      Client @relation(fields: [clientId], references: [id])
  clientId    Int
 }
